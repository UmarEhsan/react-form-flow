(this.webpackJsonpdwf=this.webpackJsonpdwf||[]).push([[0],{150:function(e,t,n){},169:function(e,t,n){},247:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(27),l=n.n(c),i=(n(169),n(17)),o=n(26),s=n(13),d=n(4),u=Object(r.createContext)(),j=function(e){var t=function(e,t){return Object(s.a)(Object(s.a)({},e),{},Object(o.a)({},e.currentNode,Object(s.a)(Object(s.a)({},e[e.currentNode]),t)))},n=function(e,t,n){return Object(s.a)(Object(s.a)({},e),{},Object(o.a)({},t,Object(s.a)(Object(s.a)({},e[t]),{},{children:Object(s.a)(Object(s.a)({},e[t].children),Object(o.a)({},n,""))})))},r=function(e,t,n){var r=e[n];return r.data&&(e[t].parentData=r.data),Object(s.a)(Object(s.a)({},e),{},Object(o.a)({},t,Object(s.a)(Object(s.a)(Object(s.a)({},e[t]),e[t].parent),{},{parent:n})))},c=function(e,t){var n=t.currentNode,r=t.data;(e[n].data=r,e[n].children)&&Object.keys(e[n].children).forEach((function(t){e[t].parentData=r}));return Object(s.a)(Object(s.a)({},e),{},{currentNode:n})},l=function(e,t){var n;return e[t]?Object(s.a)(Object(s.a)({},e),{},{currentNode:t}):Object(s.a)(Object(s.a)({},e),{},(n={},Object(o.a)(n,t,{children:null,parent:null}),Object(o.a)(n,"currentNode",t),n))},j=function(e,t){var n=Object.keys(e[t.currentNode]).reduce((function(n,r){return r!==t.field&&(n[r]=e[t.currentNode][r]),n}),{});return Object(s.a)(Object(s.a)({},e),{},Object(o.a)({},e.currentNode,Object(s.a)({},n)))},b=function(e,t){var n,r,a;if(console.log(t),t.length>1&&(r=t[1].source,a=t[1].target),!t[0].id||t[0].source&&t[0].target){if(t[0].source||t[0].target){n=Object.keys(e).reduce((function(n,r){return r!==t[0].id&&(n[r]=e[r]),n}),{});var c=p(t[0].source,t[0].target,n);n[t[0].source].children=c,n[t[0].target].parent=null,n[t[0].target].parentData&&(n[t[0].target].parentData=null)}}else if(n=Object.keys(e).reduce((function(n,r){return r!==t[0].id&&(n[r]=e[r]),n}),{}),t.length>1){var l=p(r,a,n);n[r]&&(n[r].children=l)}return Object(s.a)(Object(s.a)({},n),{},{currentNode:null})},p=function(e,t,n){return n[e]?Object.keys(n[e].children).reduce((function(r,a){return a!==t&&(r[a]=n[e].children[a]),r}),{}):n},O=a.a.useReducer((function(e,a){var i=a.payload;switch(a.type){case"CREATE_OBJECT":return l(e,i);case"REMOVE_OBJECT":return b(e,i);case"CREATE_CHILDREN":return n(e,i.node_id,i.children);case"CREATE_PARENT":return r(e,i.node_id,i.parent);case"ADD_DATA":return c(e,i);case"CREATE_DATA":return t(e,i);case"REMOVE_DATA":return j(e,i);default:return e}}),{}),h=Object(i.a)(O,2),x=h[0],f=h[1];return Object(d.jsx)(u.Provider,{value:[x,f],children:e.children})},b=n(52),p=function(){var e=function(e,t){e.dataTransfer.setData("application/reactflow",t),e.dataTransfer.effectAllowed="move"};return Object(d.jsxs)("aside",{children:[Object(d.jsx)("div",{className:"description",children:"You can drag these nodes to the pane on the right."}),Object(d.jsx)("div",{className:"dndnode form",onDragStart:function(t){return e(t,"form")},draggable:!0,children:"Form Widget"}),Object(d.jsx)("div",{className:"dndnode dataSource",onDragStart:function(t){return e(t,"dataSource")},draggable:!0,children:"DataSource"}),Object(d.jsx)("div",{className:"dndnode output",onDragStart:function(t){return e(t,"email")},draggable:!0,children:"Email Widget"})]})},O=n(119),h=n(253),x=n(249),f=n(250),m=n(92),y=(h.a.TextArea,function(e,t){return Object(d.jsx)(h.a,{placeholder:e,onChange:function(e){return t()}})}),v=function(e){return Object(d.jsx)(h.a,Object(s.a)(Object(s.a)({},e),{},{style:{padding:"10px"}}))},g=function(e){var t=Object(s.a)({},e),n=t.data,r=t.onHandleCheckbox,a=t.span,c=function(e){var t=e.target.value;r(t)};return Object(d.jsx)("div",{children:n.map((function(e){return Object(d.jsx)(x.a,{children:Object(d.jsx)(f.a,{span:a||8,children:Object(d.jsx)(m.a,{value:e.value,onChange:c,children:e.title})})})}))})},C=n(252),E=n(37),w={required:"${label} is required!",types:{email:"Enter a valid email!",number:"${label} is not a validate number!",url:"${label} is not a valid url!"},number:{range:"${label} must be between ${min} and ${max}"},string:{max:"Character count cannot exceed ${max}"},whitespace:"${label} cannot be empty!"},S=function(e){var t=Object(s.a)({},e),n=(t.fields,t.layoutType),a=(t.onHandleSubmit,Object(r.useContext)(u)),c=Object(i.a)(a,2),l=c[0],o=c[1],j=function(){var e=[],t=l.currentNode;if(t){var n=l[t],r=(n.children,n.parent,n.data,Object(O.a)(n,["children","parent","data"])),a=t&&Object.keys(r);l[t]&&a.forEach((function(t){e.push(r[t])}))}return e},b="horizontal"===n?{labelCol:{span:6},wrapperCol:{span:14}}:"vertical"===n?{labelCol:{span:6},wrapperCol:{span:23}}:null,p="horizontal"===n?"0px 15px":"0px 28px",h="horizontal"===n?{wrapperCol:{span:13,offset:9}}:"vertical"===n?{wrapperCol:{span:7,offset:17}}:null,x={text:function(e){return Object(d.jsx)(v,{placeholder:(null===e||void 0===e?void 0:e.inputPlaceholder)||"",type:e.type,rules:[]})},email:function(e){return Object(d.jsx)(v,{placeholder:(null===e||void 0===e?void 0:e.inputPlaceholder)||"",type:e.type,rules:[{type:"email"}]})},number:function(e){return Object(d.jsx)(v,{placeholder:(null===e||void 0===e?void 0:e.inputPlaceholder)||"",type:e.type,rules:[{type:"number"}]})}};return Object(d.jsxs)(C.a,Object(s.a)(Object(s.a)({},b),{},{name:"basic",layout:n,onFinish:function(e){console.log("Success:",e);var t=l.currentNode;t&&o({type:"ADD_DATA",payload:{currentNode:t,data:e}})},onFinishFailed:function(e){console.log("Failed:",e)},validateMessages:w,children:[j().map((function(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("label",{children:e.inputLabel}),Object(d.jsx)(C.a.Item,{name:["form","".concat(e.inputName)],children:x[e.type](e)})]})})),j().length>0&&Object(d.jsxs)(C.a.Item,Object(s.a)(Object(s.a)({},h),{},{children:[Object(d.jsx)(E.a,{type:"primary",htmlType:"submit",style:{margin:p},children:"Submit"}),Object(d.jsx)(E.a,{type:"",htmlType:"",style:{margin:p},children:"Cancel"})]}))]}))},T=n(255),N=n(251),k=n(29),D=function(e){var t=Object(r.useContext)(u),n=Object(i.a)(t,2),a=n[0],c=n[1],l=a.currentNode,o=Object(r.useState)(!1),s=Object(i.a)(o,2),j=s[0],b=s[1],p=Object(r.useState)([]),O=Object(i.a)(p,2),h=O[0],m=O[1],y=Object(r.useState)([]),g=Object(i.a)(y,2),C=g[0],w=g[1],S=Object(r.useState)(!1),D=Object(i.a)(S,2),A=D[0],_=D[1],F=Object(k.b)(),P=F.handleSubmit,R=(F.reset,F.control),q=function(e,t){return e?"".concat(t,"/").concat(e):t},I=function(e,t){fetch(e).then((function(e){return e.json()})).then((function(e){var n=t.map((function(e){return{title:e,dataIndex:e,key:e}}));m(n),w([e]),c({type:"ADD_DATA",payload:{currentNode:l,data:[e]}}),b(!0),_(!1)})).catch((function(e){console.log(e),b(!1)}))};return Object(d.jsxs)("div",{children:[Object(d.jsx)(x.a,{children:Object(d.jsx)(f.a,{children:function(){var e=a.currentNode;if(e){var t=a[e].parent;return t&&a[t]}return!1}()&&Object(d.jsx)(E.a,{type:"primary",onClick:function(){var e=a.currentNode;if(e){var t=a[e].parent;console.log(a[t])}},style:{margin:"10px"},children:"Get Parent Data"})})}),Object(d.jsx)(E.a,{type:"primary",onClick:function(){var e=a[l],t=e.slug_input,n=e.url,r=e.pickFields,c=q(t,n);_(!0),I(c,r)},style:{margin:"10px",width:"29%"},children:"Preview"}),Object(d.jsxs)(T.a,{title:"Data Source",centered:!0,visible:j,onOk:function(){return b(!1)},onCancel:function(){return b(!1)},width:600,children:[Object(d.jsx)("div",{style:{padding:"10px"},children:Object(d.jsx)("form",{onSubmit:P((function(e){var t=a[l],n=t.url,r=t.pickFields,c=e.slug_input,i=q(c,n);_(!0),I(i,r)})),children:Object(d.jsxs)(x.a,{children:[Object(d.jsx)(f.a,{span:20,children:Object(d.jsx)(k.a,{as:Object(d.jsx)(v,{placeholder:"Enter id....."}),control:R,rules:{required:!0},name:"slug_input",style:{padding:"10px",margin:"10px"}})}),Object(d.jsx)(f.a,{span:4,children:Object(d.jsx)("input",{type:"submit",style:{padding:"10px",margin:"0px 5px",color:"#fff",background:"#1890ff",borderColor:"#1890ff",border:"1px solid #1890ff"}})})]})})}),!A&&Object(d.jsx)(N.a,{dataSource:C,columns:h,loading:A})]})]})},A=n(91),_=A.a.Option,F=function(e){var t=Object(r.useContext)(u),n=Object(i.a)(t,2),a=n[0],c=(n[1],Object(r.useState)("vertical")),l=Object(i.a)(c,2),o=l[0],s=l[1],j=Object(r.useState)([]),b=Object(i.a)(j,2),p=b[0],O=(b[1],Object(r.useState)(!1)),h=Object(i.a)(O,2),m=h[0],y=h[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(x.a,{children:Object(d.jsx)(f.a,{children:function(){var e=a.currentNode;if(e){var t=a[e].parent;return t&&a[t]}return!1}()&&Object(d.jsx)(E.a,{type:"primary",onClick:function(){var e=a.currentNode;if(e){var t=a[e].parent;console.log(a[t])}},style:{margin:"10px"},children:"Get Parent Data"})})}),Object(d.jsxs)(x.a,{children:[Object(d.jsx)(f.a,{span:8,children:Object(d.jsx)(E.a,{type:"primary",onClick:function(){y(!0)},style:{margin:"10px",width:"86%"},children:"Preview Form"})}),Object(d.jsx)(f.a,{span:16,children:Object(d.jsxs)(x.a,{style:{margin:"10px"},children:[Object(d.jsx)(f.a,{span:8,children:Object(d.jsx)("label",{children:"Layout Type"})}),Object(d.jsx)(f.a,{span:15,children:Object(d.jsx)(A.a,{style:{width:"100%"},onChange:function(e){s(e)},placeholder:"Choose Layout Type",children:[{value:"vertical",label:"Vertical"},{value:"horizontal",label:"Horizontal"},{value:"inline",label:"Inline"}].map((function(e){return Object(d.jsx)(_,{value:e.value,children:e.label},e.value)}))})})]})})]}),Object(d.jsx)(T.a,{title:"Form",centered:!0,visible:m,onOk:function(){return y(!1)},onCancel:function(){return y(!1)},width:1e3,footer:null,children:Object(d.jsx)(S,{fields:p,layoutType:o,onHandleSubmit:function(){y(!1)}})})]})},P=n(257),R=n(254),q=n(258),I=A.a.Option,H=function(e){var t,n=Object(r.useContext)(u),a=Object(i.a)(n,2),c=a[0],l=a[1],j=c.currentNode,b=Object(s.a)({},e),p=b.newNode,m=b.onHandleNode,v=b.onHandleDrawer,g=Object(k.b)(),C=g.handleSubmit,w=g.register,S=g.errors,T=g.control,N=g.reset,D=Object(r.useState)(!0),_=Object(i.a)(D,2),H=_[0],L=_[1],V=[],z=function(){var e=c.currentNode;if(e&&c[e]){var t=c[e],n=(t.children,t.parent,Object(O.a)(t,["children","parent"]));console.log(n);var r=e&&Object.keys(n);return c[e]&&r.forEach((function(t){V.push(c[e][t])})),V}};return Object(d.jsxs)("div",{children:[Object(d.jsx)(F,{}),Object(d.jsxs)("form",{onSubmit:C((function(e){if(Object.keys(e).length>0){var t=Object.keys(c[j]).length+1,n=Object(o.a)({},"field".concat(t),Object(s.a)(Object(s.a)({},e),{},{field:"field".concat(t)}));l({type:"CREATE_DATA",payload:n}),N({type:"",inputLabel:"",inputValue:"",inputPlaceholder:"",inputName:""})}})),children:[Object(d.jsx)("div",{style:{padding:"15px"},children:Object(d.jsx)(h.a,{placeholder:"Form Name",ref:w,value:null===p||void 0===p||null===(t=p.data)||void 0===t?void 0:t.label,onChange:function(e){return m(e)}})}),Object(d.jsx)("div",{style:{padding:"15px"},children:Object(d.jsx)(E.a,{type:"dashed",onClick:function(){return L((function(e){return!e}))},style:{width:"100%"},icon:Object(d.jsx)(q.a,{}),children:"Add Field"})}),!H&&Object(d.jsx)("div",{children:Object(d.jsxs)("section",{children:[Object(d.jsx)(x.a,{children:Object(d.jsxs)(f.a,{span:24,style:{padding:"15px"},children:[Object(d.jsx)("label",{children:"Select Type"}),Object(d.jsx)(k.a,{as:Object(d.jsx)(A.a,{style:{width:"100%"},placeholder:"Choose Field Type",children:[{value:"text",label:"Text"},{value:"email",label:"Email"},{value:"number",label:"Number"}].map((function(e){return Object(d.jsx)(I,{value:e.value,children:e.label},e.value)}))}),control:T,rules:{required:!0},name:"type"})]})}),S.type&&Object(d.jsx)("span",{className:"error",children:"This field is required"}),Object(d.jsx)(x.a,{children:Object(d.jsxs)(f.a,{span:24,style:{padding:"15px"},children:[Object(d.jsx)("label",{children:"Input Label"}),Object(d.jsx)(k.a,{as:y("Input Label"),control:T,ref:w({required:!0,value:"test"}),rules:{required:!0},defaultValue:"",name:"inputLabel"})]})}),Object(d.jsx)(x.a,{children:Object(d.jsxs)(f.a,{span:24,style:{padding:"15px"},children:[Object(d.jsx)("label",{children:"Input Placeholder"}),Object(d.jsx)(k.a,{placeholder:"Input Placeholder",defaultValue:"",as:y("Input Placeholder"),ref:w({required:!0}),rules:{required:!0},control:T,name:"inputPlaceholder"})]})}),Object(d.jsx)(x.a,{children:Object(d.jsxs)(f.a,{span:24,style:{padding:"15px"},children:[Object(d.jsx)("label",{children:"Input Name"}),Object(d.jsx)(k.a,{placeholder:"Input Name",as:y("Input Name"),ref:w({required:!0}),rules:{required:!0},control:T,name:"inputName"})]})})]})}),Object(d.jsxs)("div",{style:{padding:"15px"},children:[Object(d.jsx)(E.a,{type:"primary",htmlType:"submit",style:{width:"40%",margin:"0px 20px"},children:"Submit"}),Object(d.jsx)(E.a,{onClick:v,style:{width:"40%",margin:"0px 20px"},children:"Cancel"})]}),Object(d.jsx)(P.b,{header:Object(d.jsx)("div",{children:"Form Fields"}),bordered:!0,dataSource:z(),renderItem:function(e,t){return Object(d.jsx)(d.Fragment,{children:e.type&&Object(d.jsx)(P.b.Item,{actions:[Object(d.jsx)("a",{onClick:function(){return function(e){var t=c.currentNode,n=V[e].field;l({type:"REMOVE_DATA",payload:{field:n,currentNode:t}}),z()}(t)},children:"delete"},"list-loadmore-more")],children:Object(d.jsx)(R.a,{loading:e.loading,active:!0,children:Object(d.jsx)(P.b.Item.Meta,{title:Object(d.jsxs)("h4",{children:["Type: ",e.type]})})})})})}})]})]})},L=Object(r.memo)(H),V=n(28),z=n(116),B=function(e){var t,n=Object(r.useContext)(u),a=Object(i.a)(n,2),c=a[0],l=a[1],j=(c.currentNode,Object(s.a)({},e)),b=j.newNode,p=j.onHandleNode,O=j.onHandleDrawer,m=Object(r.useState)([]),v=Object(i.a)(m,2),C=v[0],w=v[1],S=Object(r.useState)([]),T=Object(i.a)(S,2),N=T[0],A=T[1],_=Object(r.useState)([]),F=Object(i.a)(_,2),P=(F[0],F[1]),R=Object(r.useState)(!1),q=Object(i.a)(R,2),I=q[0],H=q[1],L="form_dataSource_1",B=Object(r.useState)(Object(o.a)({},L,{})),J=Object(i.a)(B,2),$=J[0],M=J[1],G=Object(k.b)({defaultValues:{slug_input:"",url:"https://jsonplaceholder.typicode.com/todos"}}),W=G.handleSubmit,U=G.register,Y=G.control;return Object(d.jsxs)("div",{children:[Object(d.jsx)(D,{widgetType:"datasource"}),Object(d.jsx)(h.a,{style:{padding:"10px",margin:"10px"},placeholder:"Form Name",ref:U,value:null===b||void 0===b||null===(t=b.data)||void 0===t?void 0:t.label,onChange:function(e){return p(e)}}),Object(d.jsxs)("form",{onSubmit:W((function(e){H(!0),P([]);var t=function(e,t){return e?"".concat(t,"/").concat(e):t}(e.slug_input,e.url);fetch(t).then((function(e){return e.json()})).then((function(t){H(!1);var n=Object.keys(t),r=n.map((function(e){return{title:e,value:e,dataIndex:e,key:e,isSelected:!1}})),a=Object(s.a)(Object(s.a)({},e),{},{columns:n,style:{}});l({type:"CREATE_DATA",payload:a}),M(Object(s.a)(Object(s.a)({},$),{},Object(o.a)({},L,a))),w(r),P([t])})).catch((function(e){console.log(e),H(!1)}))})),children:[Object(d.jsx)("div",{children:Object(d.jsxs)("section",{children:[Object(d.jsx)("label",{children:"Data Source"}),Object(d.jsx)(k.a,{as:y("slug_input"),control:Y,rules:{required:!0},name:"slug_input",style:{padding:"10px",margin:"10px"}}),Object(d.jsx)(k.a,{as:y("Url"),control:Y,rules:{required:!0},name:"url",style:{padding:"10px",margin:"10px"}})]})}),Object(d.jsxs)("div",{style:{padding:"10px",margin:"10px"},children:[Object(d.jsx)(E.a,{type:"primary",htmlType:"submit",style:{width:"50%"},children:" Submit"}),Object(d.jsx)(E.a,{onClick:O,style:{width:"50%"},children:"Cancel"})]}),Object(d.jsx)("div",{children:I&&Object(d.jsx)(z.a,{size:"large",style:{width:"100%"}})})]}),Object(d.jsx)(x.a,{children:Object(d.jsxs)(f.a,{children:[Object(d.jsx)("h4",{children:"Pick Fields"}),Object(d.jsx)(g,{data:C,onHandleCheckbox:function(e){var t;if(-1===N.indexOf(e))A([].concat(Object(V.a)(N),[e])),t={pickFields:[].concat(Object(V.a)(N),[e])};else{var n=N.filter((function(t){return t!==e}));A(n),t={pickFields:n}}l({type:"CREATE_DATA",payload:{pickFields:t.pickFields}})}})]})})]})},J=Object(r.memo)(B),$=n(30),M=n.n($),G=n(51),W=n(160),U=function(e){var t=Object(r.useContext)(u),n=Object(i.a)(t,2),a=n[0],c=n[1],l=a.currentNode,o=Object(r.useState)(!1),s=Object(i.a)(o,2),j=s[0],b=s[1],p=Object(r.useState)(!1),O=Object(i.a)(p,2),h=O[0],m=O[1],y=Object(k.b)(),g=y.handleSubmit,C=y.register,w=(y.errors,y.control),S=(y.reset,function(){var e=Object(G.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,fetch("https://onsalon.herokuapp.com/mail/sendEmail",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});case 4:e.sent,c({type:"ADD_DATA",payload:{currentNode:l,data:t}}),W.b.success("Email has been sent kindly check your email thanks!!!!"),b(!1),m(!1),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),W.b.error("Error in sending your email sorry for the inconvenience"),m(!1),b(!1);case 17:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}());return Object(d.jsxs)("div",{children:[Object(d.jsx)(x.a,{children:Object(d.jsx)(f.a,{children:function(){var e=a.currentNode;if(e){var t=a[e].parent;return t&&a[t]}return!1}()&&Object(d.jsx)(E.a,{type:"primary",onClick:function(){var e=a.currentNode;if(e){var t=a[e].parent;console.log(a[t])}},style:{margin:"10px"},children:"Get Parent Data"})})}),Object(d.jsx)(E.a,{type:"primary",onClick:function(){m(!0)},style:{margin:"10px",width:"86%"},children:"Preview"}),Object(d.jsx)(T.a,{title:"Email Preview",centered:!0,visible:h,onOk:function(){return m(!1)},onCancel:function(){return m(!1)},width:600,footer:null,children:Object(d.jsxs)("div",{style:{padding:"10px"},children:[j&&Object(d.jsx)(z.a,{size:"large",style:{width:"100%"}}),Object(d.jsx)("form",{onSubmit:g(S),children:Object(d.jsx)("div",{style:{padding:"10px"},children:Object(d.jsxs)("section",{children:[Object(d.jsx)(x.a,{children:Object(d.jsxs)(f.a,{span:24,style:{padding:"10px"},children:[Object(d.jsx)("label",{children:"Receiver Email"}),Object(d.jsx)(k.a,{as:Object(d.jsx)(v,{placeholder:"Enter receiver email",type:"email",rules:[]}),control:w,rules:{required:!0},defaultValue:"",name:"to"})]})}),Object(d.jsx)(x.a,{children:Object(d.jsxs)(f.a,{span:24,style:{padding:"10px"},children:[Object(d.jsx)("label",{children:"Subject"}),Object(d.jsx)(k.a,{as:Object(d.jsx)(v,{placeholder:"Subject...",type:"text",rules:[]}),control:w,rules:{required:!0},defaultValue:"",name:"subject"})]})}),Object(d.jsx)(x.a,{children:Object(d.jsx)(f.a,{span:24,style:{padding:"10px"},children:Object(d.jsx)(k.a,{placeholder:"Content",defaultValue:"",as:Object(d.jsx)("textArea",{rows:4,style:{width:"100%",padding:"5px",marginTop:"10px"}}),ref:C({required:!0}),rules:{required:!0},control:w,name:"content"})})}),Object(d.jsx)("div",{children:Object(d.jsx)(x.a,{children:Object(d.jsxs)(f.a,{offset:14,children:[Object(d.jsx)(E.a,{type:"primary",htmlType:"submit",style:{margin:"0px 26px"},children:"Submit"}),Object(d.jsx)(E.a,{type:"",htmlType:"",onClick:function(){return m(!1)},children:"Cancel"})]})})})]})})})]})})]})},Y=(A.a.Option,function(e){var t=Object(r.useContext)(u),n=Object(i.a)(t,2),a=n[0],c=n[1],l=Object(r.useState)([{value:"endpoint",title:"End Point",type:"text",inputPlaceholder:"Enter Server End Point....",defaultChecked:!1},{value:"email",title:"Email",type:"email",inputPlaceholder:"Enter Email....",defaultChecked:!1},{value:"password",title:"Password",type:"password",inputPlaceholder:"Enter Password....",defaultChecked:!1}]),o=Object(i.a)(l,2),j=(o[0],o[1],Object(r.useState)([])),b=Object(i.a)(j,2),p=(b[0],b[1],a.currentNode,Object(s.a)({},e).onHandleDrawer,Object(k.b)()),O=p.handleSubmit,h=(p.register,p.errors,p.control);p.reset;return Object(d.jsxs)("div",{children:[Object(d.jsx)(x.a,{children:Object(d.jsx)(f.a,{children:Object(d.jsx)(U,{widgetType:"email"})})}),Object(d.jsx)(x.a,{children:Object(d.jsxs)(f.a,{span:22,children:[Object(d.jsx)("h4",{children:"Server Fields"}),Object(d.jsxs)("form",{onSubmit:O((function(e){c({type:"CREATE_DATA",payload:{emailSource:{fields:e}.fields}})})),children:[Object(d.jsx)(x.a,{children:Object(d.jsxs)(f.a,{span:24,style:{padding:"10px"},children:[Object(d.jsx)("label",{children:"URL"}),Object(d.jsx)(k.a,{as:Object(d.jsx)(v,{placeholder:"Enter url.....",type:"text"}),control:h,rules:{required:!0},name:"server_url",style:{margin:"10px"}})]})}),Object(d.jsx)(x.a,{children:Object(d.jsxs)(f.a,{span:24,style:{padding:"10px"},children:[Object(d.jsx)("label",{children:"Email"}),Object(d.jsx)(k.a,{as:Object(d.jsx)(v,{placeholder:"Enter email.....",type:"email"}),control:h,rules:{required:!0},name:"server_email",style:{margin:"10px"}})]})}),Object(d.jsx)(x.a,{children:Object(d.jsxs)(f.a,{span:24,style:{padding:"10px"},children:[Object(d.jsx)("label",{children:"Password"}),Object(d.jsx)(k.a,{as:Object(d.jsx)(v,{placeholder:"Enter password.....",type:"password"}),control:h,rules:{required:!0},name:"server_password",style:{margin:"10px"}})]})}),Object(d.jsx)(f.a,{span:4,children:Object(d.jsx)("input",{type:"submit",style:{padding:"10px",margin:"10px",color:"#fff",background:"#1890ff",borderColor:"#1890ff",border:"1px solid #1890ff"}})})]})]})})]})}),X=n(256),K=(n(150),0),Q=function(){return"dndnode_".concat(K++)},Z=function(){var e=Object(r.useContext)(u),t=Object(i.a)(e,2),n=(t[0],t[1]),a=Object(r.useState)({}),c=Object(i.a)(a,2),l=c[0],o=c[1],j=Object(r.useState)("Form"),O=Object(i.a)(j,2),h=O[0],x=O[1],f=Object(r.useState)(!1),m=Object(i.a)(f,2),y=m[0],v=m[1],g=Object(r.useRef)(null),C=Object(r.useState)(null),E=Object(i.a)(C,2),w=E[0],S=E[1],T=Object(r.useState)([]),N=Object(i.a)(T,2),k=N[0],D=N[1];Object(r.useEffect)((function(){D((function(e){return e.map((function(e){return e.id===l.id&&(e.data=Object(s.a)(Object(s.a)({},e.data),{},{label:l.data.label})),e}))}))}),[l,D]);var A=function(e){var t=e.target.value,n=Object(s.a)(Object(s.a)({},l),{},{data:{label:t}});o((function(){return n}))},_={form:Object(d.jsx)(L,{newNode:l,onHandleNode:A,onHandleDrawer:function(){return v((function(e){return!e}))}}),dataSource:Object(d.jsx)(J,{newNode:l,onHandleNode:A,onHandleDrawer:function(){return v((function(e){return!e}))}}),email:Object(d.jsx)(Y,{})};return Object(d.jsxs)("div",{className:"dndflow",children:[Object(d.jsx)(p,{}),Object(d.jsx)(b.d,{children:Object(d.jsx)("div",{className:"reactflow-wrapper",ref:g,children:Object(d.jsxs)(b.f,{style:{position:"absolute",width:"80%"},elements:k,onElementsRemove:function(e){console.log(e),D((function(t){return Object(b.g)(e,t)})),n({type:"REMOVE_OBJECT",payload:e})},onConnect:function(e){D((function(t){return Object(b.e)(e,t)})),n({type:"CREATE_CHILDREN",payload:{node_id:e.source,children:e.target}}),n({type:"CREATE_PARENT",payload:{node_id:e.target,parent:e.source}})},onNodeDoubleClick:function(e,t){(null===t||void 0===t?void 0:t.data)&&(e.preventDefault(),x((function(){return t.data.widgetType})),o((function(){return t})),v((function(e){return!e})),n({type:"CREATE_OBJECT",payload:t.id}))},onLoad:function(e){return S(e)},onDrop:function(e){e.preventDefault();var t=g.current.getBoundingClientRect(),r=e.dataTransfer.getData("application/reactflow"),a=w.project({x:e.clientX-t.left,y:e.clientY-t.top}),c={id:Q(),type:"default",test:"asd",position:a,data:{label:"".concat(r," Widget"),widgetType:r},style:{background:"#D6D5E6",color:"#333",border:"1px solid #222138",width:180,padding:10},formType:r};D((function(e){return e.concat(c)})),o((function(){return c})),x((function(){return r})),n({type:"CREATE_OBJECT",payload:c.id})},onDragOver:function(e){e.preventDefault(),e.dataTransfer.dropEffect="move"},snapToGrid:!0,children:[Object(d.jsx)(b.b,{}),Object(d.jsx)(b.a,{color:"#aaa",gap:20,size:1})]})})}),Object(d.jsx)(X.a,{title:"".concat(h," Widget"),placement:"right",width:500,closable:!1,onClose:function(){v((function(e){return!e}))},visible:y,children:_[h]},"right")]})},ee=(n(246),function(){return Object(d.jsx)(j,{children:Object(d.jsx)(Z,{})})}),te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,259)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,l=t.getTTFB;n(e),r(e),a(e),c(e),l(e)}))};l.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(ee,{})}),document.getElementById("root")),te()}},[[247,1,2]]]);
//# sourceMappingURL=main.bad8c9df.chunk.js.map